import{o as r,c,a as h,d as I,j as W,i as u,g as i,k as $,b as R,l as B,m as p,e as q,w as D,n as N,t as j,p as x,T as z,u as k,C as A,M,q as E,s as L,F as Q}from"./index-B4VHvsbu.js";const V={xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 -960 960 960"};function F(y,l){return r(),c("svg",V,l[0]||(l[0]=[h("path",{d:"M152.04-483.48q-19.52 0-31.34-14.11-11.83-14.11-7.14-32.06 6.44-29.74 16.59-55.98t25.02-49.98q9.13-16.96 27.37-18.46t33.2 12.33q10.26 9.7 12.11 24.65 1.85 14.96-4.85 27.92-11.17 17.91-18.7 36.11-7.52 18.19-11.39 37.67-4.26 13.39-15.87 22.65t-25 9.26M434-108.09q0 19.53-14.11 31.63-14.11 12.11-32.06 7.42-26.74-6.44-53.27-16.87-26.52-10.44-51.26-25.74-16.95-9.13-18.45-27.37t12.89-33.2q10.26-10.26 24.72-11.32 14.45-1.07 27.41 5.06 17.91 11.74 35.83 18.98 17.91 7.24 35.82 11.11 13.39 4.26 22.94 15.87 9.54 11.61 9.54 24.43M215.17-235.22q-14.39 14.96-32.13 12.89-17.74-2.06-26.87-19.02-13.87-23.74-24.02-50.76t-17.59-56.76q-4.69-17.96 6.64-31.28 11.32-13.33 30.84-13.33 13.83 0 25.22 9.26t15.65 22.66q3.87 19.47 10.33 37.1t18.19 35.55q6.14 12.95 4.57 28.69t-10.83 25M569.74-70.17q-17.96 4.69-32.35-6.57T523-108.09q0-14.39 9.26-26t22.65-15.87q95.92-27.69 156.96-105.37 61.04-77.67 61.04-183.15 0-120.78-80.84-204.74-80.85-83.95-202.2-89.04H472.7l45.13 45.13q7.3 10.7 6.74 25.39-.57 14.7-12.4 26.52-11.82 11.83-28.78 11.83t-28.78-11.83l-110-110q-6.13-6.13-8.98-13.11-2.85-6.97-2.85-14.67t2.85-14.67q2.85-6.98 8.98-13.11l110.56-110q11.26-11.83 28.22-11.83t28.78 11.83q11.26 11.82 11.55 26.52.28 14.69-7.59 26.52l-45.69 45.7h18.3Q642-808.65 747.35-700.76T852.7-438.48q0 133.83-79.13 235.94T569.74-70.17"},null,-1)]))}const G={render:F},O={xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 -960 960 960"};function P(y,l){return r(),c("svg",O,l[0]||(l[0]=[h("path",{d:"M807.96-483.48q-13.39 0-25-9.26t-15.31-22.65q-4.43-19.48-11.95-37.67-7.53-18.2-18.7-36.11-6.7-12.96-4.85-27.92 1.85-14.95 12.68-24.65 14.39-13.83 32.63-12.33t27.93 18.46q14.31 23.74 24.46 49.98T847-529.65q4.13 17.95-7.7 32.06-11.82 14.11-31.34 14.11M526-108.09q0-12.82 9.54-24.43 9.55-11.61 22.94-15.87 17.91-3.87 35.82-11.11 17.92-7.24 35.83-18.98 12.96-6.13 27.41-5.06 14.46 1.06 24.72 11.32 14.39 14.96 12.89 33.2t-18.45 27.37q-24.74 15.3-51.26 25.74-26.53 10.43-53.27 16.87-17.95 4.69-32.06-7.42Q526-88.56 526-108.09m218.83-127.13q-9.26-9.26-10.83-25t5.13-28.69q11.17-17.92 17.63-35.55t10.89-37.1q3.7-13.4 15.09-22.66t25.22-9.26q19.52 0 30.84 13.33 11.33 13.32 6.64 31.28-7.44 29.74-17.59 56.76t-23.46 50.76q-9.69 16.96-27.43 19.02-17.74 2.07-32.13-12.89M390.26-70.17q-124.7-30.26-203.54-132.37-78.85-102.11-78.85-235.94 0-154.39 105.06-262.28Q318-808.65 471.26-812.04h18.3l-45.13-45.7q-8.43-11.83-8.15-26.52.29-14.7 11.55-26.52 11.82-11.83 28.78-11.83t28.78 11.83l110 110q6.13 6.13 9.26 13.11 3.13 6.97 3.13 14.67t-3.13 14.67q-3.13 6.98-9.26 13.11l-110 110q-11.82 11.83-28.78 11.83t-28.78-11.83q-11.83-11.82-12.4-26.52-.56-14.69 7.31-25.39l45.13-45.13h-17.74q-121.35 5.09-202.2 89.04-80.84 83.96-80.84 204.74 0 105.48 61.04 183.15 61.04 77.68 156.96 105.37 13.39 4.26 22.65 15.87t9.26 26q0 20.09-14.39 31.35t-32.35 6.57"},null,-1)]))}const J={render:P},K={class:"flex h-full w-full flex-col items-center justify-center"},U=["src"],C=20,Y=I({name:"ImageModaller",__name:"ImageModaller",props:{imageSrc:{},caption:{default:""}},setup(y){const{orientation:l}=W(),v=u(()=>l.value&&["portrait-primary","portrait-secondary"].includes(l.value)),o=i(),d=i(!0),s=i(!1),a=i(!1),g=i(0),m=i(0),S=()=>{g.value=window.innerHeight-C,m.value=window.innerWidth-C},w=u(()=>a.value?m.value:g.value),f=u(()=>a.value?g.value:m.value),H=()=>{S(),s.value=!0,d.value=!0,a.value=!1},T=u(()=>{if(v.value&&!a.value||!v.value&&a.value){let t=f.value;if(o.value){const e=o.value.naturalHeight,n=o.value.naturalWidth;e/n*t>w.value&&(t=n/e*w.value)}return"width:"+t+"px"}else{let t=w.value;if(o.value){const e=o.value.naturalHeight,n=o.value.naturalWidth;n/e*t>f.value&&(t=e/n*f.value)}return"height:"+t+"px"}}),_=u(()=>v.value?"margin-top: -15%":"");return $(()=>{window.addEventListener("keydown",t=>{t.key.toLowerCase()==="escape"&&s.value&&(s.value=!1)})}),(t,e)=>(r(),c(Q,null,[(r(),R(E,{to:"#modal-container"},[s.value?(r(),c("div",{key:0,class:"fixed left-0 top-0 z-modal h-screen w-screen bg-black/80",onClick:e[3]||(e[3]=n=>s.value=!1)},[h("div",K,[h("img",{ref_key:"imageRef",ref:o,src:t.imageSrc,style:B([T.value,_.value,a.value?"transform: rotate(90deg)":""]),onClick:e[0]||(e[0]=p(n=>d.value=!d.value,["stop"]))},null,12,U),q(z,null,{default:D(()=>[d.value?(r(),c("p",{key:0,class:N(["fixed bottom-4 rounded-2xl bg-black/50 p-4 text-center text-white",[v.value?"text-relative-base xs:text-relative-sm md:text-relative-xxs":"text-xs"]])},j(t.caption),3)):x("",!0)]),_:1}),q(M,{icon:k(A),class:"fixed right-4 top-4 h-4 w-4 cursor-pointer text-light hover:opacity-60",onClick:e[1]||(e[1]=p(n=>s.value=!1,["stop"]))},null,8,["icon"]),q(M,{icon:a.value?k(G):k(J),class:"fixed bottom-4 right-4 h-4 w-4 cursor-pointer text-light hover:opacity-60",onClick:e[2]||(e[2]=p(n=>a.value=!a.value,["stop"]))},null,8,["icon"])])])):x("",!0)])),s.value?x("",!0):L(t.$slots,"default",{key:0,onClick:H})],64))}});export{Y as _};
